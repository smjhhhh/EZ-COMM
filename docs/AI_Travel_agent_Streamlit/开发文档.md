# ğŸŒ AI æ—…è¡Œä»£ç†å¼€å‘æ–‡æ¡£

## ğŸ“‹ ç›®å½•
1. [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
2. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
3. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
4. [ç¯å¢ƒé…ç½®](#ç¯å¢ƒé…ç½®)
5. [æ ¸å¿ƒæ¨¡å—è¯´æ˜](#æ ¸å¿ƒæ¨¡å—è¯´æ˜)
6. [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
7. [æµ‹è¯•æŒ‡å—](#æµ‹è¯•æŒ‡å—)
8. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ¯ é¡¹ç›®ç®€ä»‹

AI æ—…è¡Œä»£ç†æ˜¯ä¸€ä¸ªåŸºäºäººå·¥æ™ºèƒ½çš„æ—…è¡Œè§„åˆ’åŠ©æ‰‹,èƒ½å¤Ÿå¸®åŠ©ç”¨æˆ·:
- ğŸŒ¤ï¸ è·å–ç›®çš„åœ°å®æ—¶å¤©æ°”ä¿¡æ¯
- ğŸ¨ æœç´¢é…’åº—ã€æ™¯ç‚¹ã€é¤å…ç­‰æ—…æ¸¸ä¿¡æ¯
- ğŸ’° è®¡ç®—æ—…è¡Œè´¹ç”¨å¹¶æä¾›è¯¦ç»†é¢„ç®—åˆ†è§£
- ğŸ’± è¿›è¡Œè´§å¸è½¬æ¢
- ğŸ¥ æ¨èç›¸å…³çš„æ—…è¡Œè§†é¢‘
- ğŸ“… ç”Ÿæˆè¯¦ç»†çš„æ¯æ—¥è¡Œç¨‹å®‰æ’

### ä¸»è¦ç‰¹ç‚¹
- **æ™ºèƒ½å¯¹è¯**: ä½¿ç”¨ GPT-4 æ¨¡å‹ç†è§£ç”¨æˆ·éœ€æ±‚
- **å¤šå·¥å…·é›†æˆ**: æ•´åˆå¤©æ°”ã€æœç´¢ã€è§†é¢‘ç­‰å¤šä¸ª API
- **ç²¾ç¡®è®¡ç®—**: è‡ªåŠ¨è®¡ç®—æ—…è¡Œæ€»è´¹ç”¨
- **å®æ—¶æ•°æ®**: æä¾›æœ€æ–°çš„å¤©æ°”å’Œä»·æ ¼ä¿¡æ¯
- **ç¾è§‚ç•Œé¢**: åŸºäº Streamlit çš„ç°ä»£åŒ– Web ç•Œé¢

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

#### å‰ç«¯æ¡†æ¶
- **Streamlit**: Python Web åº”ç”¨æ¡†æ¶
  - ç‰ˆæœ¬: â‰¥1.28.0
  - ç”¨é€”: æ„å»ºäº¤äº’å¼ç”¨æˆ·ç•Œé¢

#### AI æ¡†æ¶
- **LangChain**: LLM åº”ç”¨å¼€å‘æ¡†æ¶
  - `langchain`: æ ¸å¿ƒåº“ (â‰¥0.1.0)
  - `langchain-openai`: OpenAI é›†æˆ (â‰¥0.1.0)
  - `langchain-core`: æ ¸å¿ƒåŠŸèƒ½ (â‰¥0.1.0)
  - `langchain-community`: ç¤¾åŒºå·¥å…· (â‰¥0.0.29)
  - `langchain-experimental`: å®éªŒæ€§åŠŸèƒ½ (â‰¥0.0.56)

- **LangGraph**: çŠ¶æ€å›¾ç®¡ç†
  - ç‰ˆæœ¬: â‰¥0.0.45
  - ç”¨é€”: æ„å»º AI Agent å·¥ä½œæµ

#### AI æ¨¡å‹
- **OpenAI GPT-4o**: ä¸»è¦è¯­è¨€æ¨¡å‹
  - API: `openai` (â‰¥1.0.0)
  - å‚æ•°: temperature=0, max_tokens=2000

#### å¤–éƒ¨ API
- **OpenWeatherMap**: å¤©æ°”æ•°æ® API
- **Google Serper**: æœç´¢æ•°æ® API
- **DuckDuckGo**: å¤‡ç”¨æœç´¢å¼•æ“
- **YouTube**: è§†é¢‘æœç´¢ API

#### å…¶ä»–ä¾èµ–
- **python-dotenv**: ç¯å¢ƒå˜é‡ç®¡ç† (â‰¥1.0.0)
- **pandas**: æ•°æ®å¤„ç† (â‰¥2.0.0)
- **numpy**: æ•°å€¼è®¡ç®— (â‰¥1.24.0)
- **Pillow**: å›¾åƒå¤„ç† (â‰¥10.0.0)
- **httpx**: HTTP å®¢æˆ·ç«¯ (â‰¥0.24.0)
- **pydantic**: æ•°æ®éªŒè¯ (â‰¥2.0.0)

### æ¶æ„è®¾è®¡

```
ç”¨æˆ·è¾“å…¥
    â†“
Streamlit ç•Œé¢
    â†“
LangGraph çŠ¶æ€æœº
    â†“
GPT-4o æ¨¡å‹å†³ç­–
    â†“
å·¥å…·è°ƒç”¨ (Tools)
    â”œâ”€â”€ å¤©æ°”æŸ¥è¯¢
    â”œâ”€â”€ æœç´¢å¼•æ“
    â”œâ”€â”€ æ•°å­¦è®¡ç®—
    â”œâ”€â”€ YouTube æœç´¢
    â””â”€â”€ Python REPL
    â†“
ç»“æœæ•´åˆä¸æ ¼å¼åŒ–
    â†“
è¿”å›ç»™ç”¨æˆ·
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
AI_Travel_agent_Streamlit/
â”œâ”€â”€ streamlit_app.py          # ä¸»åº”ç”¨ç¨‹åºæ–‡ä»¶
â”œâ”€â”€ run_script.py              # è¿è¡Œè„šæœ¬
â”œâ”€â”€ requirements.txt           # Python ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ .env                       # ç¯å¢ƒå˜é‡é…ç½® (ä¸æäº¤åˆ° Git)
â”œâ”€â”€ .gitignore                 # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â”‚
â”œâ”€â”€ README.md                  # è‹±æ–‡é¡¹ç›®è¯´æ˜
â”œâ”€â”€ å¼€å‘æ–‡æ¡£.md               # ä¸­æ–‡å¼€å‘æ–‡æ¡£ (æœ¬æ–‡ä»¶)
â”œâ”€â”€ APIé…ç½®æŒ‡å—.md            # API é…ç½®è¯¦ç»†è¯´æ˜
â”œâ”€â”€ éƒ¨ç½²æŒ‡å—.md               # éƒ¨ç½²è¯¦ç»†è¯´æ˜
â”‚
â”œâ”€â”€ github_upload_guide.md    # GitHub ä¸Šä¼ æŒ‡å—
â”œâ”€â”€ streamlit_guide.md        # Streamlit é…ç½®æŒ‡å—
â”‚
â”œâ”€â”€ Assignment.ipynb          # åŸå§‹ Jupyter Notebook
â”‚
â””â”€â”€ .streamlit/               # Streamlit é…ç½®ç›®å½• (å¯é€‰)
    â””â”€â”€ config.toml           # Streamlit è‡ªå®šä¹‰é…ç½®
```

---

## âš™ï¸ ç¯å¢ƒé…ç½®

### 1. ç³»ç»Ÿè¦æ±‚

- **Python**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: Windows / macOS / Linux
- **å†…å­˜**: å»ºè®® 4GB ä»¥ä¸Š
- **ç½‘ç»œ**: éœ€è¦ç¨³å®šçš„äº’è”ç½‘è¿æ¥

### 2. å®‰è£…ä¾èµ–

#### æ­¥éª¤ 1: å…‹éš†é¡¹ç›®
```bash
git clone <your-repository-url>
cd AI_Travel_agent_Streamlit
```

#### æ­¥éª¤ 2: åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ (æ¨è)
```bash
# ä½¿ç”¨ venv
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate
```

#### æ­¥éª¤ 3: å®‰è£…ä¾èµ–åŒ…
```bash
pip install -r requirements.txt
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹:

```env
# OpenAI API (å¿…éœ€)
OPENAI_API_KEY=your_openai_api_key_here

# Google Serper API (æ¨èï¼Œç”¨äºæœç´¢)
SERPER_API_KEY=your_serper_api_key_here

# OpenWeatherMap API (å¯é€‰ï¼Œç”¨äºå¤©æ°”)
OPENWEATHERMAP_API_KEY=your_openweathermap_api_key_here
```

**é‡è¦æç¤º:**
- `OPENAI_API_KEY` æ˜¯å¿…éœ€çš„ï¼Œåº”ç”¨ç¨‹åºæ— æ³•åœ¨æ²¡æœ‰å®ƒçš„æƒ…å†µä¸‹è¿è¡Œ
- `SERPER_API_KEY` å¦‚æœæœªé…ç½®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ DuckDuckGo ä½œä¸ºå¤‡ç”¨æœç´¢å¼•æ“
- `OPENWEATHERMAP_API_KEY` å¦‚æœæœªé…ç½®ï¼Œå¤©æ°”åŠŸèƒ½å°†ä¸å¯ç”¨

### 4. éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥ Python ç‰ˆæœ¬
python --version

# æ£€æŸ¥å·²å®‰è£…çš„åŒ…
pip list | grep streamlit
pip list | grep langchain

# æµ‹è¯• Streamlit å®‰è£…
streamlit hello
```

---

## ğŸ”§ æ ¸å¿ƒæ¨¡å—è¯´æ˜

### 1. ä¸»åº”ç”¨æ–‡ä»¶ (streamlit_app.py)

#### 1.1 é¡µé¢é…ç½®
```python
st.set_page_config(
    page_title="ğŸŒ AI Travel Agent",
    page_icon="âœˆï¸",
    layout="wide",
    initial_sidebar_state="expanded"
)
```
é…ç½® Streamlit é¡µé¢çš„åŸºæœ¬å±æ€§ã€‚

#### 1.2 ä¼šè¯çŠ¶æ€ç®¡ç†
```python
if 'travel_agent' not in st.session_state:
    st.session_state.travel_agent = None
if 'chat_history' not in st.session_state:
    st.session_state.chat_history = []
```
ä½¿ç”¨ Streamlit çš„ session_state æ¥å­˜å‚¨:
- `travel_agent`: LangGraph ç¼–è¯‘åçš„çŠ¶æ€å›¾
- `chat_history`: ç”¨æˆ·å¯¹è¯å†å²è®°å½•

#### 1.3 è‡ªå®šä¹‰å·¥å…· (Tools)

##### æ•°å­¦è®¡ç®—å·¥å…·
å®šä¹‰åœ¨ `streamlit_app.py:32-52`

```python
@tool
def addition(a: int, b: int) -> int:
    """åŠ æ³•è¿ç®—"""
    return a + b

@tool
def multiply(a: int, b: int) -> int:
    """ä¹˜æ³•è¿ç®—"""
    return a * b

@tool
def division(a: int, b: int) -> float:
    """é™¤æ³•è¿ç®—"""
    if b == 0:
        raise ValueError("Denominator cannot be zero.")
    return a / b

@tool
def substraction(a: int, b: int) -> float:
    """å‡æ³•è¿ç®—"""
    return a - b
```

**ç”¨é€”**: ç”¨äºè®¡ç®—æ—…è¡Œè´¹ç”¨ï¼Œå¦‚é…’åº—æ€»ä»·ã€é¤é¥®è´¹ç”¨ç­‰ã€‚

##### å¤©æ°”æŸ¥è¯¢å·¥å…·
å®šä¹‰åœ¨ `streamlit_app.py:54-66`

```python
@tool
def get_weather(city: str) -> str:
    """è·å–åŸå¸‚çš„å½“å‰å¤©æ°”ä¿¡æ¯"""
    try:
        weather_api_key = st.secrets.get("OPENWEATHERMAP_API_KEY") or os.getenv("OPENWEATHERMAP_API_KEY")
        if weather_api_key:
            os.environ["OPENWEATHERMAP_API_KEY"] = weather_api_key
            weather = OpenWeatherMapAPIWrapper()
            return weather.run(city)
        else:
            return f"Weather API key not available. Cannot get weather for {city}."
    except Exception as e:
        return f"Weather data unavailable for {city}. Error: {str(e)}"
```

**ç‰¹ç‚¹**:
- ä¼˜å…ˆä» Streamlit secrets è¯»å– API key
- å›é€€åˆ°ç¯å¢ƒå˜é‡
- åŒ…å«é”™è¯¯å¤„ç†

##### æœç´¢å·¥å…·
å®šä¹‰åœ¨ `streamlit_app.py:68-90`

```python
@tool
def search_google(query: str) -> str:
    """ä½¿ç”¨ Google Serper API æœç´¢"""
    # Google Serper API å®ç°
    # å¦‚æœå¤±è´¥ï¼Œè‡ªåŠ¨å›é€€åˆ° DuckDuckGo

@tool
def search_duck(query: str) -> str:
    """ä½¿ç”¨ DuckDuckGo æœç´¢"""
    # DuckDuckGo æœç´¢å®ç°
```

**æœç´¢ç­–ç•¥**:
1. ä¼˜å…ˆä½¿ç”¨ Google Serper API (æ›´å‡†ç¡®)
2. å¦‚æœ Serper ä¸å¯ç”¨ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ° DuckDuckGo
3. æä¾›æœç´¢å¤±è´¥æ—¶çš„å‹å¥½é”™è¯¯æ¶ˆæ¯

##### YouTube æœç´¢å·¥å…·
å®šä¹‰åœ¨ `streamlit_app.py:92-99`

```python
@tool
def youtube_search(query: str) -> str:
    """æœç´¢ YouTube æ—…è¡Œè§†é¢‘"""
    try:
        youtubetool = YouTubeSearchTool()
        return youtubetool.run(query)
    except Exception as e:
        return f"YouTube search unavailable. Error: {str(e)}"
```

##### Python REPL å·¥å…·
å®šä¹‰åœ¨ `streamlit_app.py:102-107`

```python
python_repl = PythonREPL()
repl_tool = Tool(
    name="python_repl",
    description="A Python shell for complex calculations. Input should be a valid python command.",
    func=python_repl.run,
)
```

**ç”¨é€”**: æ‰§è¡Œå¤æ‚çš„ Python è®¡ç®—ï¼Œå¦‚æ±‡ç‡è½¬æ¢ã€ç™¾åˆ†æ¯”è®¡ç®—ç­‰ã€‚

#### 1.4 æ—…è¡Œä»£ç†åˆå§‹åŒ–
å®šä¹‰åœ¨ `streamlit_app.py:109-200`

```python
def initialize_travel_agent():
    """åˆå§‹åŒ–æ—…è¡Œä»£ç†"""
    # 1. è·å– OpenAI API key
    openai_api_key = st.secrets.get("OPENAI_API_KEY") or os.getenv("OPENAI_API_KEY")

    # 2. åˆå§‹åŒ– GPT-4o æ¨¡å‹
    llm = ChatOpenAI(
        model="gpt-4o",
        temperature=0,
        max_tokens=2000,
        api_key=openai_api_key
    )

    # 3. å®šä¹‰ç³»ç»Ÿæç¤ºè¯
    system_prompt = SystemMessage("""...""")

    # 4. ç»‘å®šå·¥å…·åˆ° LLM
    llm_with_tools = llm.bind_tools(tools)

    # 5. æ„å»º LangGraph çŠ¶æ€å›¾
    builder = StateGraph(MessagesState)
    builder.add_node("llm_decision_step", function_1)
    builder.add_node("tools", ToolNode(tools))
    builder.add_edge(START, "llm_decision_step")
    builder.add_conditional_edges("llm_decision_step", tools_condition)
    builder.add_edge("tools", "llm_decision_step")

    # 6. ç¼–è¯‘å¹¶è¿”å›çŠ¶æ€å›¾
    react_graph = builder.compile()
    return react_graph
```

**å·¥ä½œæµç¨‹**:
1. **START** â†’ LLM å†³ç­–èŠ‚ç‚¹
2. LLM å†³ç­– â†’ æ¡ä»¶åˆ¤æ–­ (æ˜¯å¦éœ€è¦è°ƒç”¨å·¥å…·)
3. å¦‚éœ€å·¥å…· â†’ å·¥å…·èŠ‚ç‚¹ â†’ è¿”å› LLM å†³ç­–
4. å¦‚ä¸éœ€è¦ â†’ END

#### 1.5 ç³»ç»Ÿæç¤ºè¯è®¾è®¡
å®šä¹‰åœ¨ `streamlit_app.py:129-169`

ç³»ç»Ÿæç¤ºè¯å®šä¹‰äº† AI çš„è¡Œä¸ºè§„åˆ™:

```
æ­¥éª¤ 1: å§‹ç»ˆå…ˆè°ƒç”¨ get_weather è·å–å¤©æ°”
æ­¥éª¤ 2: è°ƒç”¨æœç´¢å·¥å…·æŸ¥æ‰¾é…’åº—ã€æ™¯ç‚¹ã€é¤å…ä»·æ ¼
       - å¦‚éœ€è´§å¸è½¬æ¢ï¼Œæœç´¢å®æ—¶æ±‡ç‡
æ­¥éª¤ 3: ä½¿ç”¨æ•°å­¦å·¥å…·è®¡ç®—æ‰€æœ‰è´¹ç”¨
æ­¥éª¤ 4: è°ƒç”¨ youtube_search æŸ¥æ‰¾ç›¸å…³è§†é¢‘
æ­¥éª¤ 5: ç”Ÿæˆè¯¦ç»†çš„æ¯æ—¥è¡Œç¨‹å’Œè´¹ç”¨åˆ†è§£
```

**è¾“å‡ºæ ¼å¼è¦æ±‚**:
- ğŸŒ¤ï¸ å¤©æ°”ä¿¡æ¯
- ğŸ’± è´§å¸è½¬æ¢
- ğŸ›ï¸ æ™¯ç‚¹ä¸æ´»åŠ¨
- ğŸ¨ é…’åº—ä¸ä½å®¿
- ğŸ“… æ¯æ—¥è¡Œç¨‹
- ğŸ’° è´¹ç”¨åˆ†è§£
- ğŸ¥ YouTube èµ„æº
- ğŸ“‹ æ€»ç»“

#### 1.6 ä¸»å‡½æ•° (main)
å®šä¹‰åœ¨ `streamlit_app.py:202-317`

```python
def main():
    # 1. æ˜¾ç¤ºé¡µé¢å¤´éƒ¨
    st.markdown("""...""", unsafe_allow_html=True)

    # 2. ä¾§è¾¹æ  API çŠ¶æ€æ£€æŸ¥
    st.sidebar.header("ğŸ“¡ API Status")
    # æ£€æŸ¥å¹¶æ˜¾ç¤ºå„ä¸ª API çš„çŠ¶æ€

    # 3. ä¸»å†…å®¹åŒºåŸŸ
    st.header("ğŸ’¬ Travel Query")

    # 4. ç¤ºä¾‹æŸ¥è¯¢é€‰æ‹©å™¨
    example_queries = {...}
    selected_example = st.selectbox(...)

    # 5. ç”¨æˆ·è¾“å…¥åŒºåŸŸ
    query = st.text_area(...)

    # 6. å¤„ç†æŒ‰é’®ç‚¹å‡»
    if st.button("ğŸš€ Plan My Trip"):
        # åˆå§‹åŒ–ä»£ç†
        if st.session_state.travel_agent is None:
            st.session_state.travel_agent = initialize_travel_agent()

        # å¤„ç†æŸ¥è¯¢
        response = st.session_state.travel_agent.invoke({
            "messages": [HumanMessage(query)]
        })

        # æ˜¾ç¤ºç»“æœ
        final_response = response["messages"][-1].content
        st.markdown(final_response)

        # ä¿å­˜åˆ°å†å²è®°å½•
        st.session_state.chat_history.append({
            "query": query,
            "response": final_response
        })
```

---

## ğŸ’» å¼€å‘æŒ‡å—

### 1. æ·»åŠ æ–°å·¥å…·

#### æ­¥éª¤ 1: å®šä¹‰å·¥å…·å‡½æ•°
```python
@tool
def your_new_tool(param: str) -> str:
    """å·¥å…·æè¿° - è¿™ä¸ªæè¿°ä¼šè¢« AI ç”¨æ¥ç†è§£å·¥å…·ç”¨é€”"""
    try:
        # å®ç°å·¥å…·é€»è¾‘
        result = your_implementation(param)
        return result
    except Exception as e:
        return f"Error: {str(e)}"
```

#### æ­¥éª¤ 2: æ·»åŠ åˆ°å·¥å…·åˆ—è¡¨
åœ¨ `initialize_travel_agent` å‡½æ•°ä¸­:
```python
tools = [
    addition, multiply, division, substraction,
    get_weather, search_google, search_duck,
    repl_tool, youtube_search,
    your_new_tool  # æ·»åŠ ä½ çš„æ–°å·¥å…·
]
```

#### æ­¥éª¤ 3: æ›´æ–°ç³»ç»Ÿæç¤ºè¯
åœ¨ç³»ç»Ÿæç¤ºè¯ä¸­è¯´æ˜ä½•æ—¶ä½¿ç”¨æ–°å·¥å…·:
```python
system_prompt = SystemMessage("""
...
STEP X: åœ¨ [æŸç§æƒ…å†µ] ä¸‹è°ƒç”¨ your_new_tool
...
""")
```

### 2. ä¿®æ”¹ AI è¡Œä¸º

#### è°ƒæ•´æ¨¡å‹å‚æ•°
```python
llm = ChatOpenAI(
    model="gpt-4o",              # æ¨¡å‹åç§°
    temperature=0,                # 0=ç¡®å®šæ€§, 1=åˆ›é€ æ€§
    max_tokens=2000,              # æœ€å¤§è¾“å‡ºé•¿åº¦
    api_key=openai_api_key
)
```

**å‚æ•°è¯´æ˜**:
- `temperature`:
  - 0: è¾“å‡ºæœ€ç¡®å®šã€æœ€ä¸€è‡´
  - 0.5-0.7: å¹³è¡¡åˆ›é€ æ€§å’Œä¸€è‡´æ€§
  - 1: æœ€å…·åˆ›é€ æ€§å’Œéšæœºæ€§
- `max_tokens`: æ§åˆ¶å“åº”é•¿åº¦ (1 token â‰ˆ 0.75 ä¸ªè‹±æ–‡å•è¯)

#### ä¿®æ”¹ç³»ç»Ÿæç¤ºè¯
ç¼–è¾‘ `streamlit_app.py:129-169` ä¸­çš„ `system_prompt`:
- æ·»åŠ æ–°çš„æ­¥éª¤
- ä¿®æ”¹è¾“å‡ºæ ¼å¼
- è°ƒæ•´ AI çš„ä¸ªæ€§å’Œè¯­æ°”

### 3. è‡ªå®šä¹‰ç•Œé¢

#### ä¿®æ”¹é¡µé¢æ ·å¼
```python
st.markdown("""
<style>
.main-header {
    background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 2rem;
    border-radius: 10px;
}
</style>
""", unsafe_allow_html=True)
```

#### æ·»åŠ æ–°çš„è¾“å…¥æ§ä»¶
```python
# æ»‘å—
budget = st.slider("é¢„ç®—èŒƒå›´ (CNY)", 1000, 50000, 10000)

# æ—¥æœŸé€‰æ‹©å™¨
travel_date = st.date_input("å‡ºå‘æ—¥æœŸ")

# å¤šé€‰æ¡†
interests = st.multiselect(
    "å…´è¶£çˆ±å¥½",
    ["å†å²æ–‡åŒ–", "è‡ªç„¶é£å…‰", "ç¾é£Ÿ", "è´­ç‰©", "å†’é™©è¿åŠ¨"]
)
```

### 4. è°ƒè¯•æŠ€å·§

#### å¯ç”¨è¯¦ç»†æ—¥å¿—
```python
import logging

logging.basicConfig(level=logging.DEBUG)
logger = logging.getLogger(__name__)

# åœ¨å…³é”®ä½ç½®æ·»åŠ æ—¥å¿—
logger.debug(f"User query: {query}")
logger.debug(f"Tool response: {tool_result}")
```

#### ä½¿ç”¨ Streamlit è°ƒè¯•å·¥å…·
```python
# æ˜¾ç¤ºå˜é‡å†…å®¹
st.write("Debug info:", variable)

# æ˜¾ç¤º JSON æ•°æ®
st.json({"key": "value"})

# æ˜¾ç¤ºä»£ç 
st.code("""
def example():
    pass
""", language="python")
```

#### æŸ¥çœ‹å·¥å…·è°ƒç”¨å†å²
```python
# åœ¨å¤„ç†å“åº”åæ·»åŠ 
if st.checkbox("æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯"):
    st.write("å®Œæ•´å“åº”:", response)
    st.write("æ‰€æœ‰æ¶ˆæ¯:", response["messages"])
```

---

## ğŸ§ª æµ‹è¯•æŒ‡å—

### 1. æœ¬åœ°æµ‹è¯•

#### å¯åŠ¨åº”ç”¨
```bash
streamlit run streamlit_app.py
```

#### åŸºæœ¬åŠŸèƒ½æµ‹è¯•æ¸…å•
- [ ] åº”ç”¨æ˜¯å¦æ­£å¸¸å¯åŠ¨
- [ ] ä¾§è¾¹æ  API çŠ¶æ€æ˜¯å¦æ­£ç¡®æ˜¾ç¤º
- [ ] ç¤ºä¾‹æŸ¥è¯¢æ˜¯å¦å¯ä»¥é€‰æ‹©
- [ ] æ–‡æœ¬è¾“å…¥æ¡†æ˜¯å¦æ­£å¸¸å·¥ä½œ
- [ ] æŒ‰é’®ç‚¹å‡»æ˜¯å¦æœ‰å“åº”

### 2. åŠŸèƒ½æµ‹è¯•

#### æµ‹è¯•ç”¨ä¾‹ 1: å¤©æ°”æŸ¥è¯¢
```
è¾“å…¥: æŸ¥è¯¢åŒ—äº¬çš„å¤©æ°”
æœŸæœ›è¾“å‡º: åŒ…å«åŒ—äº¬å½“å‰å¤©æ°”ä¿¡æ¯
```

#### æµ‹è¯•ç”¨ä¾‹ 2: ç®€å•æ—…è¡Œè®¡åˆ’
```
è¾“å…¥: æˆ‘æƒ³å»ä¸Šæµ·ç© 3 å¤©
æœŸæœ›è¾“å‡º:
- ä¸Šæµ·å¤©æ°”
- é…’åº—æ¨è
- æ™¯ç‚¹æ¨è
- è´¹ç”¨è®¡ç®—
- YouTube è§†é¢‘
```

#### æµ‹è¯•ç”¨ä¾‹ 3: å¤æ‚é¢„ç®—è®¡ç®—
```
è¾“å…¥: æˆ‘æœ‰ 5000 å…ƒé¢„ç®—ï¼Œæƒ³å»ä¸‰äºš 5 å¤©ï¼ŒåŒ…æ‹¬é…’åº—ã€é¤é¥®å’Œé—¨ç¥¨
æœŸæœ›è¾“å‡º:
- è¯¦ç»†è´¹ç”¨åˆ†è§£
- æ¯é¡¹è´¹ç”¨çš„è®¡ç®—è¿‡ç¨‹
- æ˜¯å¦è¶…å‡ºé¢„ç®—
```

#### æµ‹è¯•ç”¨ä¾‹ 4: è´§å¸è½¬æ¢
```
è¾“å…¥: æˆ‘æœ‰ 1000 ç¾å…ƒé¢„ç®—ï¼Œæƒ³å»æ³°å›½ 4 å¤©ï¼ŒæŠŠæ‰€æœ‰è´¹ç”¨è½¬æ¢æˆäººæ°‘å¸
æœŸæœ›è¾“å‡º:
- å½“å‰æ±‡ç‡
- ç¾å…ƒè´¹ç”¨
- äººæ°‘å¸ç­‰å€¼
```

### 3. é”™è¯¯å¤„ç†æµ‹è¯•

#### æµ‹è¯•åœºæ™¯ 1: ç¼ºå°‘ API Key
1. ç§»é™¤ `.env` ä¸­çš„ `OPENAI_API_KEY`
2. å¯åŠ¨åº”ç”¨
3. æœŸæœ›: æ˜¾ç¤ºé”™è¯¯æç¤ºï¼Œè¦æ±‚é…ç½® API Key

#### æµ‹è¯•åœºæ™¯ 2: API è°ƒç”¨å¤±è´¥
1. ä½¿ç”¨æ— æ•ˆçš„ API Key
2. å°è¯•å‘èµ·æŸ¥è¯¢
3. æœŸæœ›: æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æ¶ˆæ¯

#### æµ‹è¯•åœºæ™¯ 3: ç½‘ç»œé—®é¢˜
1. æ–­å¼€ç½‘ç»œè¿æ¥
2. å°è¯•å‘èµ·æŸ¥è¯¢
3. æœŸæœ›: æ˜¾ç¤ºç½‘ç»œé”™è¯¯æç¤º

### 4. æ€§èƒ½æµ‹è¯•

#### å“åº”æ—¶é—´æµ‹è¯•
```python
import time

start_time = time.time()
response = st.session_state.travel_agent.invoke({"messages": [HumanMessage(query)]})
end_time = time.time()

st.info(f"å“åº”æ—¶é—´: {end_time - start_time:.2f} ç§’")
```

#### å¹¶å‘æµ‹è¯•
ä½¿ç”¨å¤šä¸ªæµè§ˆå™¨æ ‡ç­¾åŒæ—¶è®¿é—®åº”ç”¨ï¼Œæ£€æŸ¥:
- ä¼šè¯çŠ¶æ€æ˜¯å¦éš”ç¦»
- æ˜¯å¦å­˜åœ¨èµ„æºç«äº‰
- å“åº”æ—¶é—´æ˜¯å¦æ˜æ˜¾å¢åŠ 

---

## â“ å¸¸è§é—®é¢˜

### 1. å®‰è£…é—®é¢˜

#### Q: å®‰è£…ä¾èµ–æ—¶å‡ºç°é”™è¯¯
```
ERROR: Could not find a version that satisfies the requirement...
```

**A**: è§£å†³æ–¹æ¡ˆ:
```bash
# æ›´æ–° pip
pip install --upgrade pip

# ä½¿ç”¨å›½å†…é•œåƒæº
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

#### Q: Streamlit å‘½ä»¤æœªæ‰¾åˆ°
```
streamlit: command not found
```

**A**: è§£å†³æ–¹æ¡ˆ:
```bash
# ç¡®ä¿è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»
source venv/bin/activate  # macOS/Linux
venv\Scripts\activate     # Windows

# é‡æ–°å®‰è£… Streamlit
pip install streamlit
```

### 2. API ç›¸å…³é—®é¢˜

#### Q: OpenAI API è°ƒç”¨å¤±è´¥
```
Error: Invalid API key
```

**A**: æ£€æŸ¥æ¸…å•:
1. API Key æ˜¯å¦æ­£ç¡®å¤åˆ¶ (æ— å¤šä½™ç©ºæ ¼)
2. `.env` æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
3. API Key æ˜¯å¦æœ‰è¶³å¤Ÿçš„é¢åº¦
4. ç½‘ç»œæ˜¯å¦å¯ä»¥è®¿é—® OpenAI API

#### Q: å¤©æ°” API ä¸å·¥ä½œ
```
Weather data unavailable
```

**A**: è§£å†³æ–¹æ¡ˆ:
1. æ£€æŸ¥ `OPENWEATHERMAP_API_KEY` æ˜¯å¦é…ç½®
2. éªŒè¯ API Key æ˜¯å¦æœ‰æ•ˆ
3. æ£€æŸ¥åŸå¸‚åç§°æ‹¼å†™æ˜¯å¦æ­£ç¡®
4. ç¡®è®¤ OpenWeatherMap æœåŠ¡æ˜¯å¦æ­£å¸¸

### 3. è¿è¡Œæ—¶é—®é¢˜

#### Q: åº”ç”¨å¯åŠ¨æ…¢
**A**: å¯èƒ½åŸå› å’Œä¼˜åŒ–:
- é¦–æ¬¡åˆå§‹åŒ– LangGraph è¾ƒæ…¢ï¼Œå±äºæ­£å¸¸ç°è±¡
- ä½¿ç”¨ `@st.cache_resource` ç¼“å­˜ travel_agent åˆå§‹åŒ–
- è€ƒè™‘å‡å° max_tokens å€¼

#### Q: å“åº”ä¸ç¬¦åˆé¢„æœŸ
**A**: è°ƒè¯•æ­¥éª¤:
1. æ£€æŸ¥ç³»ç»Ÿæç¤ºè¯æ˜¯å¦æ¸…æ™°
2. å¯ç”¨è°ƒè¯•æ¨¡å¼æŸ¥çœ‹å·¥å…·è°ƒç”¨
3. è°ƒæ•´ temperature å‚æ•°
4. å¢åŠ æˆ–å‡å°‘ max_tokens

#### Q: å†…å­˜ä½¿ç”¨è¿‡é«˜
**A**: ä¼˜åŒ–å»ºè®®:
- é™åˆ¶ `chat_history` çš„é•¿åº¦
- å®šæœŸæ¸…ç† session_state
- ä½¿ç”¨æ›´å°çš„æ¨¡å‹ (å¦‚ gpt-3.5-turbo)

### 4. å¼€å‘é—®é¢˜

#### Q: å¦‚ä½•æ·»åŠ æ–°çš„ API?
**A**: æ­¥éª¤:
1. åœ¨ `.env` ä¸­æ·»åŠ æ–°çš„ API Key
2. åˆ›å»ºæ–°çš„å·¥å…·å‡½æ•° `@tool`
3. åœ¨ tools åˆ—è¡¨ä¸­æ³¨å†Œ
4. æ›´æ–°ç³»ç»Ÿæç¤ºè¯è¯´æ˜ç”¨é€”

#### Q: å¦‚ä½•ä¿®æ”¹è¾“å‡ºæ ¼å¼?
**A**: ä¿®æ”¹ä½ç½®:
- ç³»ç»Ÿæç¤ºè¯ä¸­çš„ FORMAT éƒ¨åˆ† (streamlit_app.py:161-168)
- å¯ä»¥æ·»åŠ æ–°çš„ emoji å’Œç« èŠ‚æ ‡é¢˜
- è°ƒæ•´è¾“å‡ºçš„è¯¦ç»†ç¨‹åº¦

#### Q: å¦‚ä½•æ”¯æŒå…¶ä»–è¯­è¨€æ¨¡å‹?
**A**: ä¿®æ”¹ç¤ºä¾‹:
```python
# ä½¿ç”¨å…¶ä»– OpenAI æ¨¡å‹
llm = ChatOpenAI(model="gpt-3.5-turbo", ...)

# ä½¿ç”¨æœ¬åœ°æ¨¡å‹ (éœ€è¦é¢å¤–é…ç½®)
from langchain_community.llms import Ollama
llm = Ollama(model="llama2")
```

---

## ğŸ“š æ‰©å±•é˜…è¯»

- [Streamlit å®˜æ–¹æ–‡æ¡£](https://docs.streamlit.io)
- [LangChain æ–‡æ¡£](https://python.langchain.com)
- [LangGraph æ–‡æ¡£](https://langchain-ai.github.io/langgraph/)
- [OpenAI API æ–‡æ¡£](https://platform.openai.com/docs)

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜:
1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„å¸¸è§é—®é¢˜éƒ¨åˆ†
2. æ£€æŸ¥é¡¹ç›®çš„ GitHub Issues
3. æŸ¥é˜…ç›¸å…³æŠ€æœ¯æ–‡æ¡£
4. è”ç³»é¡¹ç›®ç»´æŠ¤è€…

---

**æœ€åæ›´æ–°**: 2025-10-17
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0
